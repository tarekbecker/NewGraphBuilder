<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <link rel="shortcut icon" href="http://dataminelab.com/wp-content/themes/dataminelab/favicon.ico"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" type="text/css" media="all" href="http://dataminelab.com/wp-content/themes/dataminelab/style.css"> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="pingback" href="http://dataminelab.com/xmlrpc.php"> 
  <title>Business intelligence and data analysis | DataMine Lab</title> 
  <link rel="alternate" type="application/rss+xml" title="DataMine Lab » Blog Comments Feed" href="http://dataminelab.com/blog/feed/"> 
  <link rel="stylesheet" id="really_simple_share_style-css" href="http://dataminelab.com/wp-content/plugins/really-simple-facebook-twitter-share-buttons/style.css?ver=3.6.1" type="text/css" media="all"> 
  <script type="text/javascript" src="https://platform.twitter.com/widgets.js?ver=3.6.1"></script> 
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js?ver=1.7.2"></script> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://dataminelab.com/xmlrpc.php?rsd"> 
  <link rel="prev" title="What we do" href="http://dataminelab.com/services/"> 
  <link rel="next" title="OpenX Paid Support" href="http://dataminelab.com/openx-paid-support/"> 
  <script type="text/javascript">
		  window.___gcfg = {lang: "en"};
		  (function() {
		    var po = document.createElement("script"); po.type = "text/javascript"; po.async = true;
		    po.src = "https://apis.google.com/js/plusone.js";
		    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s);
		  })();
		</script> 
  <script type="text/javascript">
				jQuery(document).ready(function() {
			var screenSize = getViewportSize();
			var screenWidth = screenSize.width;
			var screenHeight = screenSize.height;
	
			jQuery(".popupContainer").show("slide", { direction: "left" }, 1000);
			jQuery(".popupContainer .info").click(function() {
				jQuery("#overlay").show();
				jQuery(".cookieInfo").css({ top: screenHeight/2 - jQuery(".cookieInfo").height()/2, left: screenWidth/2 - jQuery(".cookieInfo").width()/2});
				jQuery(".cookieInfo").fadeIn();
			});
	
			jQuery(".popupContainer .proceedButton").click(function() {
				jQuery(".popupContainer").hide("slide", {direction: "left"});
				jQuery.get('?response=accept')
			});
	
			jQuery(".cookieInfo .proceedButton").click(function() {
						jQuery(".popupContainer").hide("slide", {direction: "left"});
						jQuery("#overlay").hide();
						jQuery(".cookieInfo").fadeOut();
						jQuery.get('?response=accept')
					});
	
			jQuery(".cookieInfo .closeButton").click(function() {
				jQuery("#overlay").hide();
				jQuery(".cookieInfo").fadeOut();
			});
		})
	
		function getViewportSize()
		{
			var heightValue = 0;
			widthValue = 0;
	
			if ( window.innerHeight )
			{
				heightValue = window.innerHeight;
				widthValue = window.innerWidth;
			}
			else if ( (document.documentElement) && (document.documentElement.clientHeight) )
			{
				heightValue = document.documentElement.clientHeight;
				widthValue = document.documentElement.clientWidth;
			}
			else if ( (document.body) && (document.body.clientHeight) )
			{
				heightValue = document.body.clientHeight;
				widthValue = document.body.clientWidth;
			}
	
			return { width: parseInt(widthValue, 10), height: parseInt(heightValue, 10) };
		}
	
		function closeCookie() {
			jQuery(".popupContainer").fadeOut("fast");
	
		}
				</script> 
  <!-- All in One SEO Pack 2.0.3.1 by Michael Torbert of Semper Fi Web Design[716,754] --> 
  <meta name="description" content="Data can help to grow your business. We use Amazon EC2, Hadoop and other analysis tools to help our clients understand and make the most of their data."> 
  <link rel="canonical" href="http://dataminelab.com/blog/"> 
  <!-- /all in one seo pack --> 
  <style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; }
/* ]]> */
</style> 
  <style type="text/css" id="syntaxhighlighteranchor"></style> 
  <script type="text/javascript">
        	var imagePath = 'http://dataminelab.com/wp-content/themes/dataminelab'+'/images/';
        </script> 
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script> 
  <!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]--> 
  <!-- Google Website Optimizer Control Script --> 
  <script>
function utmx_section(){}function utmx(){}
(function(){var k='3320326779',d=document,l=d.location,c=d.cookie;function f(n){
if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.indexOf(';',i);return escape(c.substring(i+n.
length+1,j<0?c.length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;
d.write('<sc'+'ript src="'+
'http'+(l.protocol=='https:'?'s://ssl':'://www')+'.google-analytics.com'
+'/siteopt.js?v=1&utmxkey='+k+'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='
+new Date().valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
'" type="text/javascript" charset="utf-8"></sc'+'ript>')})();
</script> 
  <!-- End of Google Website Optimizer Control Script --> 
  <!-- Google Website Optimizer Tracking Script --> 
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['gwo._setAccount', 'UA-23396342-2']);
  _gaq.push(['gwo._trackPageview', '/3320326779/test']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script> 
  <!-- End of Google Website Optimizer Tracking Script --> 
 </head> 
 <body class="page page-id-62 page-template page-template-blog-php"> 
  <div id="overlay"></div> 
  <div class="popupContainer"> 
   <div class="info">
    We use cookies,
    <br> see 
    <b>info/options.</b>
    <br> If you're OK with
    <br> cookies click below
    <br> or continue browsing.
   </div> 
   <div class="proceedButton button gray small"> 
    <div class="glare"></div> Proceed 
   </div> 
  </div> 
  <div class="cookieInfo"> 
   <div class="closeButton"></div> 
   <div class="infoText"> 
    <span>Cookie Information:&nbsp;</span> 
    <div>
     Cookies are text files containing small amounts of data which are downloaded to your computer, or other device, when you visit a website.
     <br>
     <br>Cookies are useful for carrying out various tasks, including improving your experience on our website. Some cookies are also necessary for the technical operation of our website. Cookies do not harm your computer.
     <br>
     <br>For information about your cookie options including turning them off,&nbsp;
     <a href="http://dataminelab.com/cookies">click here</a>.
     <br>
     <br>To carry on with cookies running, click 
     <b><u>proceed</u></b> or click the X to close this window and continue browsing. You can review your cookie options at any time by clicking on the Cookies link at the foot of each page
    </div> 
   </div> 
   <div class="proceedButton button gray small"> 
    <div class="glare"></div> Proceed 
   </div> 
  </div> 
  <div id="main-container" class="no-background"> 
   <div id="header"> 
    <a id="logo" href="/"><img alt="" src="http://dataminelab.com/wp-content/themes/dataminelab/images/dataminelab-logo.jpg" width="303" height="89"></a> 
    <ul id="contact-details"> 
     <li> e-mail: <a href="mailto:info@dataminelab.com">info@dataminelab.com</a> </li> 
     <li> t: +44(0)20 8133 2201 </li> 
    </ul> 
    <div class="navigation-header">
     <ul id="menu-navigation-menu" class="menu">
      <li id="menu-item-19" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-19"><a href="http://dataminelab.com">Home</a></li> 
      <li id="menu-item-59" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-59"><a href="http://dataminelab.com/about/">About us</a></li> 
      <li id="menu-item-58" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58"><a href="http://dataminelab.com/services/">What we do</a></li> 
      <li id="menu-item-60" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-60"><a href="http://dataminelab.com/customers/">Our customers</a></li> 
      <li id="menu-item-69" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-62 current_page_item menu-item-69"><a href="http://dataminelab.com/blog/">Blog</a></li> 
      <li id="menu-item-61" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-61"><a href="http://dataminelab.com/contact/">Contact us</a></li> 
     </ul>
    </div> 
   </div> 
   <div id="image-slider-blog" class="slider"> 
    <img alt="" src="http://dataminelab.com/wp-content/themes/dataminelab/images/header-bg-5.jpg"> 
   </div> 
   <div id="middle-section"> 
    <div class="content"> 
     <p><span>The latest technology and data news, analysis and ideas </span>from the DataMine Lab blog</p> 
    </div> 
   </div> 
   <img alt="" src="http://dataminelab.com/wp-content/themes/dataminelab/images/middle-triangles.jpg"> 
   <div id="main-content"> 
    <h1 class="blog">Blog</h1> 
    <div id="blog-section" class="content"> 
     <div id="right-section"> 
      <div class="outside-section widget_search">
       <form action="http://dataminelab.com/" id="searchform" method="get" role="search"> 
        <div> 
         <label for="s" class="screen-reader-text">Search for:</label> 
         <input type="text" id="s" name="s" value=""> 
         <input type="submit" value="GO" id="searchsubmit"> 
        </div> 
       </form>
      </div> 
      <div class="outside-section widget_recent_entries"> 
       <h3>Recent Posts</h3> 
       <ul> 
        <li> <a href="http://dataminelab.com/blog/ycsb-run-against-hbase-0-92-on-amazon-elastic-mapreduce/" title="YCSB run against HBase 0.92 on Amazon Elastic MapReduce">YCSB run against HBase 0.92 on Amazon Elastic MapReduce</a> </li> 
        <li> <a href="http://dataminelab.com/blog/bigdata-events/" title="BigData events">BigData events</a> </li> 
        <li> <a href="http://dataminelab.com/blog/r-analytics-in-the-cloud/" title="R Analytics in the Cloud">R Analytics in the Cloud</a> </li> 
        <li> <a href="http://dataminelab.com/blog/bigdata-london-events/" title="BigData London events (and a ticket giveaway)">BigData London events (and a ticket giveaway)</a> </li> 
        <li> <a href="http://dataminelab.com/blog/calculating-unique-visitors-in-hadoop-and-hive/" title="Calculating unique visitors in Hadoop and Hive">Calculating unique visitors in Hadoop and Hive</a> </li> 
       </ul> 
      </div>
      <div class="outside-section widget_archive">
       <h3>Archives</h3> 
       <ul> 
        <li><a href="http://dataminelab.com/2012/09/" title="September 2012">September 2012</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2012/05/" title="May 2012">May 2012</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/11/" title="November 2011">November 2011</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/10/" title="October 2011">October 2011</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/09/" title="September 2011">September 2011</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/08/" title="August 2011">August 2011</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/07/" title="July 2011">July 2011</a>&nbsp;(1)</li> 
        <li><a href="http://dataminelab.com/2011/06/" title="June 2011">June 2011</a>&nbsp;(1)</li> 
       </ul> 
      </div>
     </div>
     <div id="left-section"> 
      <div id="blog"> 
       <article class="post-494 post type-post status-publish format-standard hentry category-blog category-hadoop tag-amazon tag-ec2 tag-emr tag-hadoop tag-hbase tag-ycsb"> 
        <h2> <a href="http://dataminelab.com/blog/ycsb-run-against-hbase-0-92-on-amazon-elastic-mapreduce/">YCSB run against HBase 0.92 on Amazon Elastic MapReduce</a><br> <span>September 16, 2012 by Krystian Nowak, &nbsp;<a href="http://dataminelab.com/blog/ycsb-run-against-hbase-0-92-on-amazon-elastic-mapreduce/#respond" title="Comment on YCSB run against HBase 0.92 on Amazon Elastic MapReduce"><span class="dsq-postid" rel="494 http://dataminelab.com/?p=494">no comments</span></a></span> </h2> 
        <p>In this post we will show you how in simple steps using Yahoo! Cloud Serving Benchmark: <a title="https://github.com/dataminelab/YCSB" href="https://github.com/dataminelab/YCSB">https://github.com/dataminelab/YCSB</a> you can run benchmarks against <a title="HBase 0.92" href="http://hbase.apache.org/">HBase 0.92</a> cluster deployed automatically by <a title="Amazon Elastic MapReduce" href="http://aws.amazon.com/elasticmapreduce/">Amazon Elastic MapReduce</a> and what measurements and comparisons you can obtain while choosing among different available <a title="instance types" href="http://aws.amazon.com/ec2/instance-types/">instance types</a>.</p> 
        <p><span id="more-494"></span></p> 
        <p><strong>We will create EMR HBase clusters</strong> using the tooling provided by Amazon:<br> <a title="http://elasticmapreduce.s3.amazonaws.com/elastic-mapreduce-ruby.zip" href="http://elasticmapreduce.s3.amazonaws.com/elastic-mapreduce-ruby.zip">http://elasticmapreduce.s3.amazonaws.com/elastic-mapreduce-ruby.zip</a></p> 
        <p>Note: As you might see in <em>commands.rb</em> the <em>default_hadoop_version</em> is set to 0.20(.x), but as our tests found using Hadoop in version 1.0.3 has significant performance gain. Therefore when creating EMR cluster, we will explicitly set this version.</p> 
        <p><strong>Let’s create one:</strong></p> 
        <pre>
elastic-mapreduce --create \
--hbase \
--name "EMR HBase YCSB" \
--num-instances 2 \
--instance-type m1.large \
--hadoop-version 1.0.3
Created job flow j-1PP3JU6UJ0HQ1
</pre> 
        <p></p> 
        <pre>
elastic-mapreduce --list --active
j-1PP3JU6UJ0HQ1&nbsp;&nbsp;&nbsp;&nbsp; WAITING
ec2-23-22-19-48.compute-1.amazonaws.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EMR HBase YCSB
 COMPLETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start HBase</pre> 
        <p></p> 
        <p>Build the project (HBase master server variables should now defaults to localhost (<em>127.0.0.1</em>)).</p> 
        <pre>
git clone git@github.com:dataminelab/YCSB.git
cd YCSB
export MAVEN_OPTS="-Xmx512m -Xms128m -Xss2m"</pre> 
        <p></p> 
        <blockquote>
         <p>(check <a title="http://jira.codehaus.org/browse/MASSEMBLY-549" href="http://jira.codehaus.org/browse/MASSEMBLY-549">http://jira.codehaus.org/browse/MASSEMBLY-549</a> why…)</p>
        </blockquote> 
        <pre>mvn clean install -Dcheckstyle.skip=true
cd distribution/target
scp -i ~/.ssh/dataminelab-ec2.pem ycsb-0.1.5-SNAPSHOT.tar.gz \
hadoop@ec2-23-22-19-48.compute-1.amazonaws.com:/home/hadoop/ycsb.tar.gz 
ssh -i ~/.ssh/dataminelab-ec2.pem \
hadoop@ec2-23-22-19-48.compute-1.amazonaws.com
tar xvzf ycsb.tar.gz
ln -s ycsb-0.1.5-SNAPSHOT ycsb
cd ycsb
</pre> 
        <p></p> 
        <p>Create the working table in HBase (aleady pre-split):</p> 
        <pre>
hbase org.apache.hadoop.hbase.util.RegionSplitter usertable -c 200 -f family
</pre> 
        <p></p> 
        <p>Hard to be perfect – because of <a title="https://issues.apache.org/jira/browse/HBASE-4163" href="https://issues.apache.org/jira/browse/HBASE-4163">https://issues.apache.org/jira/browse/HBASE-4163</a> is still not in place – please vote! :)<br> But it still seems to be better than no split at all!</p> 
        <p>You might spot:</p> 
        <pre>
12/08/25 13:39:16 ERROR metrics.MetricsSaver:
Failed SaveRecords hdfs:/mnt/var/lib/hadoop/metrics/raw/i-694c4712_04272_raw.bin
Shutdown in progress
</pre> 
        <p>as in <a title="https://forums.aws.amazon.com/thread.jspa?threadID=100643" href="https://forums.aws.amazon.com/thread.jspa?threadID=100643">https://forums.aws.amazon.com/thread.jspa?threadID=100643</a> but it doesn’t seem to hurt us…</p> 
        <pre>
hbase shell
scan '.META.', {COLUMNS =&gt; 'info:regioninfo'}
exit
</pre> 
        <p></p> 
        <p>Load initial data into HBase</p> 
        <pre>
./bin/ycsb load hbase -p columnfamily=family -P workloads/workloada | tee load.log
</pre> 
        <p></p> 
        <p>Check for your own eyes that the data is loaded into HBase</p> 
        <pre>
hbase shell

hbase(main):001:0&gt; count 'usertable'
Current count: 1000, row: user995698996184959679
1000 row(s) in 2.3210 seconds
</pre> 
        <p></p> 
        <p>And run the tests – only as a warm-up:</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=10000 \
-s \
-threads 10 | tee warm-up-tests.log
</pre> 
        <p></p> 
        <p>And now the real tests with 10 threads:</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-a.log
</pre> 
        <p></p> 
        <pre>
cat real-tests-workload-a.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 47132.0
[OVERALL], Throughput(ops/sec), 2121.700755325469
[UPDATE], Operations, 50209
[UPDATE], AverageLatency(us), 186.93305980999423
</pre> 
        <p></p> 
        <p>And also 10 threads, but for another workload type.</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s -threads 10 | tee real-tests-workload-f.log
cat real-tests-workload-f.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 52748.0
[OVERALL], Throughput(ops/sec), 1895.8064760749223
[UPDATE], Operations, 50018
[UPDATE], AverageLatency(us), 11.925006997480907
</pre> 
        <p></p> 
        <p>Now we might check how these workload scenarios behave when increasing thread number.<br> Starting with 100 threads.</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-a-100t.log
cat real-tests-workload-a-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 24234.0
[OVERALL], Throughput(ops/sec), 4126.433935792688
[UPDATE], Operations, 50063
[UPDATE], AverageLatency(us), 1076.5547010766434
</pre> 
        <p></p> 
        <p>500 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 500 | tee real-tests-workload-a-500t.log
cat real-tests-workload-a-500t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 20706.0
[OVERALL], Throughput(ops/sec), 4829.518014102193
[UPDATE], Operations, 50099
[UPDATE], AverageLatency(us), 6167.192359128925
</pre> 
        <p></p> 
        <p>1000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-a-1kt.log
cat real-tests-workload-a-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 21484.0
[OVERALL], Throughput(ops/sec), 4654.626698938745
[UPDATE], Operations, 49988
[UPDATE], AverageLatency(us), 9423.208390013604
</pre> 
        <p></p> 
        <p>2000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-a-2kt.log
cat real-tests-workload-a-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 24358.0
[OVERALL], Throughput(ops/sec), 4105.427374989737
[UPDATE], Operations, 49957
[UPDATE], AverageLatency(us), 7786.985767760274
</pre> 
        <p></p> 
        <p>And the same for the other workload scenario now:<br> 100 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-f-100t.log
cat real-tests-workload-f-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 33924.0
[OVERALL], Throughput(ops/sec), 2947.7655936799906
[UPDATE], Operations, 50136
[UPDATE], AverageLatency(us), 17.44125977341631
</pre> 
        <p></p> 
        <p>1000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-f-1kt.log
cat real-tests-workload-f-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 29309.0
[OVERALL], Throughput(ops/sec), 3411.921252857484
[UPDATE], Operations, 50127
[UPDATE], AverageLatency(us), 16.611586570111914
</pre> 
        <p></p> 
        <p>2000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-f-2kt.log
cat real-tests-workload-f-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 29311.0
[OVERALL], Throughput(ops/sec), 3411.688444611238
[UPDATE], Operations, 49951
[UPDATE], AverageLatency(us), 59.80148545574663
</pre> 
        <p></p> 
        <p>3000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 3000 | tee real-tests-workload-f-3kt.log
cat real-tests-workload-f-3kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 32314.0
[OVERALL], Throughput(ops/sec), 3063.6875657609703
[UPDATE], Operations, 49492
[UPDATE], AverageLatency(us), 20.00127293299927
</pre> 
        <p></p> 
        <p>4000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 4000 | tee real-tests-workload-f-4kt.log
cat real-tests-workload-f-4kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 35051.0
[OVERALL], Throughput(ops/sec), 2852.985649482183
[UPDATE], Operations, 50095
[UPDATE], AverageLatency(us), 38.50611837508733
</pre> 
        <p></p> 
        <p><strong>Let’s now try more instances instead just one slave – 4 slaves, same type as before.</strong></p> 
        <pre>
elastic-mapreduce --create \
--hbase \
--name "EMR HBase YCSB" \
--num-instances 5 \
--instance-type m1.large \
--hadoop-version 1.0.3
Created job flow j-OE7G6YUHMD2I
</pre> 
        <p></p> 
        <pre>
elastic-mapreduce --list --active
j-OE7G6YUHMD2I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WAITING
ec2-50-17-100-242.compute-1.amazonaws.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EMR HBase YCSB
COMPLETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start HBase
</pre> 
        <p></p> 
        <p>Now just copy already built test suite:</p> 
        <pre>
scp -i ~/.ssh/dataminelab-ec2.pem ycsb-0.1.5-SNAPSHOT.tar.gz \
hadoop@ec2-50-17-100-242.compute-1.amazonaws.com:/home/hadoop/ycsb.tar.gz
ssh -i ~/.ssh/dataminelab-ec2.pem \
hadoop@ec2-50-17-100-242.compute-1.amazonaws.com

tar xvzf ycsb.tar.gz
ln -s ycsb-0.1.5-SNAPSHOT ycsb
cd ycsb
</pre> 
        <p></p> 
        <p>Initialize table:</p> 
        <pre>
hbase org.apache.hadoop.hbase.util.RegionSplitter usertable -c 200 -f family
</pre> 
        <p></p> 
        <p>Load initial data:</p> 
        <pre>
./bin/ycsb load hbase \
-p columnfamily=family \
-P workloads/workloada | tee load.log
</pre> 
        <p></p> 
        <p>And run tests:<br> warm-up</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=10000 \
-s \
-threads 10 | tee warm-up-tests.log
</pre> 
        <p></p> 
        <p>10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-a.log
cat real-tests-workload-a.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 42609.0
[OVERALL], Throughput(ops/sec), 2346.9220117815485
[UPDATE], Operations, 50073
[UPDATE], AverageLatency(us), 117.53685618996265
</pre> 
        <p></p> 
        <p>100 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-a-100t.log
cat real-tests-workload-a-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 23500.0
[OVERALL], Throughput(ops/sec), 4255.31914893617
[UPDATE], Operations, 49837
[UPDATE], AverageLatency(us), 1089.7759295302687
</pre> 
        <p></p> 
        <p>500 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 500 | tee real-tests-workload-a-500t.log
cat real-tests-workload-a-500t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 19763.0
[OVERALL], Throughput(ops/sec), 5059.960532307848
[UPDATE], Operations, 50196
[UPDATE], AverageLatency(us), 4854.259104311101
</pre> 
        <p></p> 
        <p>1000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-a-1kt.log
cat real-tests-workload-a-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 20028.0
[OVERALL], Throughput(ops/sec), 4993.0097862991815
[UPDATE], Operations, 49904
[UPDATE], AverageLatency(us), 9582.977617024688
</pre> 
        <p></p> 
        <p>2000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-a-2kt.log
cat real-tests-workload-a-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 22608.0
[OVERALL], Throughput(ops/sec), 4423.2130219391365
[UPDATE], Operations, 49988
[UPDATE], AverageLatency(us), 6244.29357045691
</pre> 
        <p></p> 
        <p>5000 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 5000 | tee real-tests-workload-a-5kt.log
cat real-tests-workload-a-5kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 24861.0
[OVERALL], Throughput(ops/sec), 4022.3643457624394
[UPDATE], Operations, 50100
[UPDATE], AverageLatency(us), 8150.377125748503
</pre> 
        <p></p> 
        <p>10k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10000 | tee real-tests-workload-a-10kt.log
cat real-tests-workload-a-10kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 25336.0
[OVERALL], Throughput(ops/sec), 3946.9529523208084
[UPDATE], Operations, 50176
[UPDATE], AverageLatency(us), 8851.578204719388
</pre> 
        <p></p> 
        <p>workload f, 10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-f.log
cat real-tests-workload-f.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 53310.0
[OVERALL], Throughput(ops/sec), 1875.8206715438005
[UPDATE], Operations, 49867
[UPDATE], AverageLatency(us), 12.18058034371428
</pre> 
        <p></p> 
        <p>100 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-f-100t.log
cat real-tests-workload-f-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 30991.0
[OVERALL], Throughput(ops/sec), 3226.7432480397533
[UPDATE], Operations, 50145
[UPDATE], AverageLatency(us), 13.73040183467943
</pre> 
        <p></p> 
        <p>1k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-f-1kt.log
cat real-tests-workload-f-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 29185.0
[OVERALL], Throughput(ops/sec), 3426.4176803152304
[UPDATE], Operations, 50047
[UPDATE], AverageLatency(us), 29.82979998801127
</pre> 
        <p></p> 
        <p>2k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-f-2kt.log
cat real-tests-workload-f-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 31906.0
[OVERALL], Throughput(ops/sec), 3134.206732276061
[UPDATE], Operations, 50111
[UPDATE], AverageLatency(us), 24.55253337590549
</pre> 
        <p></p> 
        <p>3k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 3000 | tee real-tests-workload-f-3kt.log
cat real-tests-workload-f-3kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 34410.0
[OVERALL], Throughput(ops/sec), 2877.070619006103
[UPDATE], Operations, 49607
[UPDATE], AverageLatency(us), 23.37424153849255
</pre> 
        <p></p> 
        <p><strong>Now let’s see how even more serious instances offered by AWS would behave in this scenario!</strong><br> m1.xlarge (2 x more memory, 2 x more CPU than m1.large)</p> 
        <pre>
elastic-mapreduce --create \
--hbase \
--name "EMR HBase YCSB" \
--num-instances 5 \
--instance-type m1.xlarge \
--hadoop-version 1.0.3
Created job flow j-2ICBS9029MJAV
</pre> 
        <p></p> 
        <pre>
./elastic-mapreduce --list --active
j-2ICBS9029MJAV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WAITING
ec2-107-21-130-111.compute-1.amazonaws.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EMR HBase YCSB
COMPLETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start HBase
</pre> 
        <p></p> 
        <pre>
scp -i ~/.ssh/dataminelab-ec2.pem ycsb-0.1.5-SNAPSHOT.tar.gz \
hadoop@ec2-107-21-130-111.compute-1.amazonaws.com:/home/hadoop/ycsb.tar.gz
ssh -i ~/.ssh/dataminelab-ec2.pem \
hadoop@ec2-107-21-130-111.compute-1.amazonaws.com

tar xvzf ycsb.tar.gz
ln -s ycsb-0.1.5-SNAPSHOT ycsb
cd ycsb
</pre> 
        <p></p> 
        <pre>
hbase org.apache.hadoop.hbase.util.RegionSplitter usertable -c 200 -f family
</pre> 
        <p></p> 
        <pre>
./bin/ycsb load hbase \
-p columnfamily=family \
-P workloads/workloada | tee load.log
</pre> 
        <p></p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=10000 \
-s \
-threads 10 | tee warm-up-tests.log
</pre> 
        <p></p> 
        <p>10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-a.log
cat real-tests-workload-a.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 39481.0
[OVERALL], Throughput(ops/sec), 2532.8639092221574
[UPDATE], Operations, 49981
[UPDATE], AverageLatency(us), 62.85440467377604
</pre> 
        <p></p> 
        <p>100 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-a-100t.log
cat real-tests-workload-a-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 17877.0
[OVERALL], Throughput(ops/sec), 5593.779716954747
[UPDATE], Operations, 50100
[UPDATE], AverageLatency(us), 640.4568662674651
</pre> 
        <p></p> 
        <p>1k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s -threads 1000 | tee real-tests-workload-a-1kt.log
cat real-tests-workload-a-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 13986.0
[OVERALL], Throughput(ops/sec), 7150.00715000715
[UPDATE], Operations, 49750
[UPDATE], AverageLatency(us), 8759.566291457286
</pre> 
        <p></p> 
        <p>2k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-a-2kt.log
cat real-tests-workload-a-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 14783.0
[OVERALL], Throughput(ops/sec), 6764.526821348847
[UPDATE], Operations, 50118
[UPDATE], AverageLatency(us), 26718.534857735744
</pre> 
        <p></p> 
        <p>3k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 3000 | tee real-tests-workload-a-3kt.log
cat real-tests-workload-a-3kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 15477.0
[OVERALL], Throughput(ops/sec), 6396.588486140725
[UPDATE], Operations, 49465
[UPDATE], AverageLatency(us), 12066.01403012231
</pre> 
        <p></p> 
        <p>4k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 4000 | tee real-tests-workload-a-4kt.log
cat real-tests-workload-a-4kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 15261.0
[OVERALL], Throughput(ops/sec), 6552.650547146321
[UPDATE], Operations, 49883
[UPDATE], AverageLatency(us), 22551.664294449012
</pre> 
        <p></p> 
        <p>another workload, 10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-f.log
cat real-tests-workload-f.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 45751.0
[OVERALL], Throughput(ops/sec), 2185.744573889095
[UPDATE], Operations, 49950
[UPDATE], AverageLatency(us), 9.801721721721721
</pre> 
        <p></p> 
        <p>500 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 500 | tee real-tests-workload-f-500t.log
cat real-tests-workload-f-500t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 21870.0
[OVERALL], Throughput(ops/sec), 4572.473708276178
[UPDATE], Operations, 49678
[UPDATE], AverageLatency(us), 11.18187125085551
</pre> 
        <p></p> 
        <p>1k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-f-1kt.log
cat real-tests-workload-f-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 19207.0
[OVERALL], Throughput(ops/sec), 5206.435153850159
[UPDATE], Operations, 49879
[UPDATE], AverageLatency(us), 11.812406022574631
</pre> 
        <p></p> 
        <p>2k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-f-2kt.log
cat real-tests-workload-f-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 20493.0
[OVERALL], Throughput(ops/sec), 4879.715024642561
[UPDATE], Operations, 50114
[UPDATE], AverageLatency(us), 12.770423434569182
</pre> 
        <p></p> 
        <p><strong>And for now, more CPU power!</strong><br> c1.xlarge (same memory, 5 x more CPU than m1.large)</p> 
        <pre>
elastic-mapreduce --create \
--hbase \
--name "EMR HBase YCSB" \
--num-instances 5 \
--instance-type c1.xlarge \
--hadoop-version 1.0.3
Created job flow j-3KZHQRG2D74AY
</pre> 
        <p></p> 
        <pre>
./elastic-mapreduce --list --active
j-3KZHQRG2D74AY&nbsp;&nbsp;&nbsp;&nbsp; WAITING
ec2-75-101-255-226.compute-1.amazonaws.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EMR HBase YCSB
COMPLETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start HBase
</pre> 
        <p></p> 
        <pre>
scp -i ~/.ssh/dataminelab-ec2.pem ycsb-0.1.5-SNAPSHOT.tar.gz \
hadoop@ec2-75-101-255-226.compute-1.amazonaws.com:/home/hadoop/ycsb.tar.gz
ssh -i ~/.ssh/dataminelab-ec2.pem \
hadoop@ec2-75-101-255-226.compute-1.amazonaws.com

tar xvzf ycsb.tar.gz
ln -s ycsb-0.1.5-SNAPSHOT ycsb
cd ycsb
</pre> 
        <p></p> 
        <pre>
hbase org.apache.hadoop.hbase.util.RegionSplitter usertable -c 200 -f family
</pre> 
        <p></p> 
        <pre>
./bin/ycsb load hbase \
-p columnfamily=family \
-P workloads/workloada | tee load.log
</pre> 
        <p></p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=10000 \
-s \
-threads 10 | tee warm-up-tests.log
</pre> 
        <p></p> 
        <p>10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-a.log
cat real-tests-workload-a.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 32121.0
[OVERALL], Throughput(ops/sec), 3113.228106223343
[UPDATE], Operations, 49973
[UPDATE], AverageLatency(us), 71.10029415884577
</pre> 
        <p></p> 
        <p>100 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 100 | tee real-tests-workload-a-100t.log
cat real-tests-workload-a-100t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 15076.0
[OVERALL], Throughput(ops/sec), 6633.059166887769
[UPDATE], Operations, 50167
[UPDATE], AverageLatency(us), 644.8327187194769
</pre> 
        <p></p> 
        <p>1k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-a-1kt.log
cat real-tests-workload-a-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 12864.0
[OVERALL], Throughput(ops/sec), 7773.63184079602
[UPDATE], Operations, 50240
[UPDATE], AverageLatency(us), 9889.390306528663
</pre> 
        <p></p> 
        <p>2k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-a-2kt.log
cat real-tests-workload-a-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 14889.0
[OVERALL], Throughput(ops/sec), 6716.367788300087
[UPDATE], Operations, 50216
[UPDATE], AverageLatency(us), 41222.41986617811
</pre> 
        <p></p> 
        <p>3k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 3000 | tee real-tests-workload-a-3kt.log
cat real-tests-workload-a-3kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 14461.0
[OVERALL], Throughput(ops/sec), 6845.9995850909345
[UPDATE], Operations, 49451
[UPDATE], AverageLatency(us), 51852.53568178601
</pre> 
        <p></p> 
        <p>5k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 5000 | tee real-tests-workload-a-5kt.log
cat real-tests-workload-a-5kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 17072.0
[OVERALL], Throughput(ops/sec), 5857.544517338331
[UPDATE], Operations, 49835
[UPDATE], AverageLatency(us), 82378.54861041436
</pre> 
        <p></p> 
        <p>10k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloada \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10000 | tee real-tests-workload-a-10kt.log
cat real-tests-workload-a-10kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 20226.0
[OVERALL], Throughput(ops/sec), 4944.131316127757
[UPDATE], Operations, 50113
[UPDATE], AverageLatency(us), 49147.25219005049
</pre> 
        <p></p> 
        <p>another workload, 10 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 10 | tee real-tests-workload-f.log
cat real-tests-workload-f.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 40801.0
[OVERALL], Throughput(ops/sec), 2450.920320580378
[UPDATE], Operations, 49966
[UPDATE], AverageLatency(us), 12.13715326421967
</pre> 
        <p></p> 
        <p>400 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 400 | tee real-tests-workload-f-400t.log
cat real-tests-workload-f-400t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 17856.0
[OVERALL], Throughput(ops/sec), 5600.358422939068
[UPDATE], Operations, 50071
[UPDATE], AverageLatency(us), 14.301591739729584
</pre> 
        <p></p> 
        <p>500 threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 500 | tee real-tests-workload-f-500t.log
cat real-tests-workload-f-500t.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 17909.0
[OVERALL], Throughput(ops/sec), 5583.784689262382
[UPDATE], Operations, 50210
[UPDATE], AverageLatency(us), 16.105915156343357
</pre> 
        <p></p> 
        <p>1k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 1000 | tee real-tests-workload-f-1kt.log
cat real-tests-workload-f-1kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 16982.0
[OVERALL], Throughput(ops/sec), 5888.5879166175955
[UPDATE], Operations, 50088
[UPDATE], AverageLatency(us), 15.313268647180962
</pre> 
        <p></p> 
        <p>2k threads</p> 
        <pre>
./bin/ycsb run hbase \
-p columnfamily=family \
-P workloads/workloadf \
-p columnfamily=family \
-p operationcount=100000 \
-s \
-threads 2000 | tee real-tests-workload-f-2kt.log
cat real-tests-workload-f-2kt.log
</pre> 
        <p></p> 
        <pre>
[OVERALL], RunTime(ms), 17219.0
[OVERALL], Throughput(ops/sec), 5807.538184563564
[UPDATE], Operations, 49989
[UPDATE], AverageLatency(us), 17.61469523295125
</pre> 
        <p></p> 
        <p>Even after running these simple scenarios we are able to check how for given configuration the number of threads used influences the throughput for each of workload type:</p> 
        <ul> 
         <li> workload a:<br> <a href="http://dataminelab.com/wp-content/uploads/2012/09/workloada.png"><img src="http://dataminelab.com/wp-content/uploads/2012/09/workloada.png" alt="" title="workloada" width="754" height="409" class="alignnone size-full wp-image-532"></a> </li> 
         <li> workload f:<br> <a href="http://dataminelab.com/wp-content/uploads/2012/09/workloadf.png"><img src="http://dataminelab.com/wp-content/uploads/2012/09/workloadf.png" alt="" title="workloadf" width="755" height="434" class="alignnone size-full wp-image-534"></a> </li> 
        </ul> 
        <p>You can now play with other instance types and instance numbers. You can also mix multiple nodes running YCSB benchmark code and observe possible saturation, either from master’s CPU or network layer.</p> 
        <p>We also invite you to play with the code or even contribute features and improvements, so that others can benefit from them too – have fun!</p> 
       </article> 
       <article class="post-470 post type-post status-publish format-standard hentry category-blog"> 
        <h2> <a href="http://dataminelab.com/blog/bigdata-events/">BigData events</a><br> <span>May 4, 2012 by Radek Maciaszek, &nbsp;<a href="http://dataminelab.com/blog/bigdata-events/#comments" title="Comment on BigData events"><span class="dsq-postid" rel="470 http://dataminelab.com/?p=470">2 comments</span></a></span> </h2> 
        <p>We observe an explosion of BigData events. While <a href="http://dataminelab.com/blog/bigdata-london-events/">half a year ago</a> London hosted maybe one interesting meetup a month nowadays there is rarely a week without few of them. Supply is keeping up with demand.</p> 
        <p>There is an increasing number of monthly meetups: <a href="http://www.meetup.com/big-data-london/">BigData London</a>, <a href="http://www.meetup.com/hadoop-users-group-uk/">HUG UK</a>, <a href="http://www.meetup.com/Data-Science-London/">Data Science London</a>, <a href="http://www.meetup.com/LondonR/">London R</a>, <a href="http://www.meetup.com/Cassandra-London/">Cassandra London</a>, <a href="http://skillsmatter.com/user-group/nosql/neo4j-user-group/">Neo4j London</a>, <a href="http://skillsmatter.com/user-group/home/mongodb-user-group/">London MongoDB User Group</a>, <a href="http://www.meetup.com/Oracle-UK-BigData/">Oracle BigData</a>, <a href="http://www.meetup.com/Data-Visualization-London/">Data Visualisation London</a>, <a href="http://www.meetup.com/BigData-Debate-and-Networking/">Big Data Debate</a>, <a href="http://www.meetup.com/DeNormalised-London/">DeNormalised London</a>, <a href="http://www.meetup.com/LonData/">LonData</a>, <a href="http://www.meetup.com/clouds/">CloudComputing</a>.</p> 
        <p>Upcoming conferences that are worth mentioning:</p> 
        <ul> 
         <li><a href="http://skillsmatter.com/event/nosql/progressive-nosql-tutorials/ac-4146">Skillsmatter Progressive NoSQL Tutorial</a> (9-11th May 2012)</li> 
         <li><a href="http://berlinbuzzwords.de/">Berlin Buzzworlds</a> – only couple hours from London via Eurostar (4-5th June 2012)</li> 
         <li><a href="http://www.whitehallmedia.co.uk/bda/">Big Data Analytics 2012</a> (20th June 2012)</li> 
         <li><a href="http://www.bigdatasummit.co.uk/">Big Data Summit 2012</a> (28th June 2012)</li> 
         <li><a href="http://www.terrapinn.com/2012/big-data-world-europe/index.stm">Big Data World Europe</a> (19-20th September 2012)</li> 
         <li><a href="http://denormalised.com/denomormalised_conference_lond/">DeNormalised NoSQL Conference London</a> (20-21st September 2012)</li> 
         <li><a href="http://www.bigdatacongress.com/index.php">Big Data Congress</a> (7th November 2012)</li> 
        </ul> 
        <p>We just had a <a href="http://bigdataweek.com/category/big-data-week/big-data-uk/">London BigData week</a> that was full of meetings and hackatons dedicated to Hadoop, Visualisations and NoSQL. In case you missed the last Big Data week you are for a treat – simply <a href="https://www.facebook.com/dataminelab">like us on Facebook</a> to <strong>have a chance of winning one ticket (worth £495)</strong> for <a href="http://skillsmatter.com/event/nosql/progressive-nosql-tutorials/ac-4146">3 days of SkillsMatter NoSQL tutorials</a>.</p> 
        <p>There are as well few online places where every data scientist can improve or challenge their skills:</p> 
        <ul> 
         <li><a href="https://www.coursera.org/course/ml">Stanford Machine Learning</a> – online Machine Learning course</li> 
         <li><a href="http://www.extension.harvard.edu/open-learning-initiative/bits-computer-science-course">Harvard Open Learning Initiative</a> – online computer science courses from Harvard</li> 
         <li><a href="http://www.apple.com/education/itunes-u/">iTunes U</a> – growing library of online courses</li> 
         <li><a href="http://bigdatauniversity.com/courses/">BigData University</a> – few basic tutorials on BigData</li> 
         <li><a href="http://www.kaggle.com/">Kaggle</a> – test your skills and win prizes</li>   
        </ul> 
        <p>If you know of anything interesting coming up in London, let us know in the comments.</p> 
       </article> 
       <article class="post-430 post type-post status-publish format-standard hentry category-blog"> 
        <h2> <a href="http://dataminelab.com/blog/r-analytics-in-the-cloud/">R Analytics in the Cloud</a><br> <span>November 21, 2011 by Radek Maciaszek, &nbsp;<a href="http://dataminelab.com/blog/r-analytics-in-the-cloud/#respond" title="Comment on R Analytics in the Cloud"><span class="dsq-postid" rel="430 http://dataminelab.com/?p=430">no comments</span></a></span> </h2> 
        <p>Last week I was invited to <a href="http://www.meetup.com/big-data-london/">Big Data London</a> to talk about “R Analytics in the Cloud”. As a case study, I presented the ageing project I’ve been working on as part of my Masters studies at Birkbeck, University of London. Ageing is one of the fundamental mysteries in biology and many scientists are already studying this process. I am excited to be part of the research group led by <a href="http://www.ucl.ac.uk/slms/people/show.php?UPI=ESCHU11">Eugene Schuster</a> at <a href="http://www.ucl.ac.uk/iha/">UCL Institute of Healthy Ageing</a>. This project has also given me the chance to use some of my Hadoop experience in the academic field.</p> 
        <p><a href="http://en.wikipedia.org/wiki/Bioinformatics">Bioinformatics</a> is the science of applying information technology to biology in order to understand the latter. There are numerous ways in which computers can aid biologists. In this particular project, we have been using <a href="http://en.wikipedia.org/wiki/DNA_microarray">microarrays</a> to find the connection between different genes. The use of microarray technologies has enabled us to detect changes to gene expression across the genome in thousands of experiments with hundreds of species. However, interpreting the changes identified in these experiments has been hampered by a lack of knowledge of the gene function. Even in highly studied genomes, approximately 50-60% of genes will be assigned functions, yet less than 30% will be annotated with a highly specific function. Little of the annotation will have been observed in experiments conducted with the species of interest, as most gene function annotation is based on annotations assigned to orthologous genes taken from experiments done with other species, such as yeast and mammalian cell culture.</p> 
        <p>We are interested in building a better understanding of gene function in the worm C. elegans by harnessing the large quantity of experimental microarray data in the public database. Currently, we have a database of over fifty curated experiments. With this, we attempt to assign putative functions to genes based on the expression profile across experiments in the public repositories. My role in this project is to help expand the number of curated experiments in the database and study the functions of approximately 1000 genes known to be regulated in long-lived worms, to try to understand the functions of these genes, e.g. by showing experimental evidence of a role in nutrient sensing, innate immunity or stress response. </p> 
        <p>Here are the slides from the presentation. Refer to slides 10 and 11 to see how to migrate your R application to the cloud in just 3 lines of code:</p> 
        <div style="width:425px" id="__ss_10206144"> 
         <strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/dataminelab/r-analytics-in-the-cloud" title="R Analytics in the Cloud" target="_blank">R Analytics in the Cloud</a></strong> 
         <iframe src="http://www.slideshare.net/slideshow/embed_code/10206144" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe> 
        </div> 
        <p>Oh, and did I mention how cool our lab is? Have a look at the following ad, which was made at UCL&nbsp; just a couple of metres from my desk.<br> <iframe width="560" height="315" src="http://www.youtube.com/embed/nuRdF46TKDs" frameborder="0" allowfullscreen></iframe></p> 
        <p>Full disclosure: DataMine Lab is in no way affiliated with Birkbeck or UCL and the above project is part of my individual bioinformatics studies.</p> 
       </article> 
       <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'dataminelab';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script> 
      </div> 
     </div> 
    </div> 
   </div> 
   <!-- id="main-content" --> 
   <img alt="" id="shadow" src="http://dataminelab.com/wp-content/themes/dataminelab/images/container-shadow.jpg"> 
  </div> 
  <!-- id="main-container" --> 
  <div id="footer"> 
   <div class="content"> 
    <ul id="menu-footer-menu" class="">
     <li id="menu-item-648" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-62 current_page_item menu-item-648"><a href="http://dataminelab.com/blog/">Our Blog</a></li> 
     <li id="menu-item-649" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-649"><a rel="external" href="http://feeds.feedburner.com/DataMineLab">RSS</a></li> 
     <li id="menu-item-654" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-654"><a href="http://dataminelab.com/partners/">Partners</a></li> 
     <li id="menu-item-653" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-653"><a href="http://dataminelab.com/terms-conditions/">T&amp;C</a></li> 
     <li id="menu-item-652" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-652"><a href="http://dataminelab.com/privacy-policy/">Policy</a></li> 
     <li id="menu-item-650" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-650"><a rel="external" href="http://twitter.com/dataminelab">Follow us on Twitter <img alt="" style="margin-left: 7px; margin-top: -3px" src="http://dataminelab.com/wp-content/themes/dataminelab/images/twitter.gif" height="17" width="17"></a></li> 
     <li id="menu-item-651" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-651"><a rel="external" href="http://www.facebook.com/pages/DataMine-Lab/183095475081000">Join us on Facebook <img alt="" src="http://dataminelab.com/wp-content/themes/dataminelab/images/facebook.gif" style="margin-left: 6px; margin-top: -3px" height="17" width="17"></a></li> 
    </ul> 
    <a href="/contact" class="contact-link">Contact Us</a> 
    <p id="created"> © DataMineLab Ltd 2014. DataMineLab Ltd is a company registered in England and Wales with company number 6685948. <br> VAT registration number: GB988661744. </p> 
   </div> 
  </div> 
  <script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-23396342-1']);
			_gaq.push(['_setDomainName', '.dataminelab.com']);
			_gaq.push(['_trackPageview']);
			
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script> 
  <script type="text/javascript">
			setTimeout(function(){var a=document.createElement("script");
			var b=document.getElementsByTagName('script')[0];
			a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0011/6404.js";
			a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
		</script> 
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  <script type="text/javascript" src="http://dataminelab.com/wp-content/plugins/optimized-latex/ajax.js?ver=0,50"></script> 
  <script type="text/javascript" src="http://dataminelab.com/wp-content/themes/dataminelab/js/jquery-ui-1.8.18.custom.min.js?ver=3.6.1"></script>   
  <!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

 Served from: dataminelab.com @ 2014-12-05 10:04:06 by W3 Total Cache -->
 </body>
</html>